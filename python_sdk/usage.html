

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Usage &mdash; Open GoPro Python SDK 0.5.5 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Interfaces" href="api.html" />
    <link rel="prev" title="QuickStart Guide" href="quickstart.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Open GoPro Python SDK
          

          
          </a>

          
            
            
              <div class="version">
                0.5.5
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">QuickStart Guide</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#connecting">Connecting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#initialized">Initialized</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#synchronous-data-operations">Synchronous Data Operations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#commands">Commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="#settings-and-statuses">Settings and Statuses</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ble-status">BLE Status</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ble-settings">BLE Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="#wifi-settings">WiFi Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="#wifi-status">WiFi Status</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#asynchronous-push-notifications">Asynchronous Push Notifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="#selecting-parameters">Selecting Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="#handling-responses">Handling Responses</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#response-structure">Response Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="#data-access">Data Access</a></li>
<li class="toctree-l3"><a class="reference internal" href="#value-flattening">Value Flattening</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.html">Interfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="future_work.html">Future Work</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Open GoPro Python SDK</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          



















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Usage</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            
              <!-- User defined GitHub URL -->
              <a href="https://github.com/gopro/OpenGoPro/tree/main/demos/python/sdk_wireless_camera_control" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="usage">
<h1>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h1>
<p>This section will describe some high level information of how to use the Open GoPro module. For more detailed
information, see the <a class="reference internal" href="api.html#interfaces"><span class="std std-ref">Interfaces</span></a> section. For just running the demo, see the
<a class="reference internal" href="quickstart.html#quickstart-guide"><span class="std std-ref">QuickStart Guide</span></a> section.</p>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>The top level interface is the <a class="reference internal" href="api.html#gopro"><span class="std std-ref">GoPro</span></a> class.</p>
<p>Once a <cite>GoPro</cite> instance is <a class="reference internal" href="#connecting"><span class="std std-ref">connected and initialized</span></a>, it can be interacted with via:</p>
<ul class="simple">
<li><p>Performing synchronous <a class="reference internal" href="#synchronous-data-operations"><span class="std std-ref">data operations</span></a> to send a command and receive a GoPro Response</p></li>
<li><p>Registering for <a class="reference internal" href="#asynchronous-push-notifications"><span class="std std-ref">push notifications</span></a> and getting these after they are enqueued</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There is a lot of logging throughout the Open GoPro package. See <a class="reference internal" href="troubleshooting.html#troubleshooting"><span class="std std-ref">troubleshooting</span></a> for more info.</p>
</div>
</div>
<div class="section" id="connecting">
<h2>Connecting<a class="headerlink" href="#connecting" title="Permalink to this headline">¶</a></h2>
<p>A GoPro instance can be initialized with or without an “identifier” where the identifier is the last
4 digits of the GoPro name. The name can be found from the camera via Preferences–&gt;About–&gt;Camera Info–&gt;Camera Name.
If no identifier is passed, the first discovered GoPro BLE device will be connected to.</p>
<p>If the context manager is used for initialization, this entire connection sequence can will be performed before returning the
constructed <cite>GoPro</cite> instance:</p>
<ol class="arabic simple">
<li><p>scan</p></li>
<li><p>connect via BLE</p></li>
<li><p>enable notifications</p></li>
<li><p>pair (if needed)</p></li>
<li><p>discover characteristics</p></li>
<li><p>initialize (register for internal status notifications)</p></li>
<li><p>connect via WiFi</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">open_gopro</span> <span class="kn">import</span> <span class="n">GoPro</span>

<span class="k">with</span> <span class="n">GoPro</span><span class="p">()</span> <span class="k">as</span> <span class="n">gopro</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Yay! I&#39;m connected via BLE, Wifi, initialized, and ready to send / get data now!&quot;</span><span class="p">)</span>
    <span class="n">gopro</span><span class="o">.</span><span class="n">ble_command</span><span class="o">.</span><span class="n">set_shutter</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">Shutter</span><span class="o">.</span><span class="n">OFF</span><span class="p">)</span>
</pre></div>
</div>
<p>This can also be accomplished without the context manager using the <cite>start</cite> method as such:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">open_gopro</span> <span class="kn">import</span> <span class="n">GoPro</span>

<span class="n">gopro</span> <span class="o">=</span> <span class="n">GoProBle</span><span class="p">()</span>
<span class="n">gopro</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Yay! I&#39;m connected via BLE, Wifi, initialized, and ready to send / get data now!&quot;</span><span class="p">)</span>
<span class="n">gopro</span><span class="o">.</span><span class="n">ble_command</span><span class="o">.</span><span class="n">set_shutter</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">Shutter</span><span class="o">.</span><span class="n">OFF</span><span class="p">)</span>
</pre></div>
</div>
<div class="section" id="initialized">
<h3>Initialized<a class="headerlink" href="#initialized" title="Permalink to this headline">¶</a></h3>
<p>After either of the above sequences, the <cite>GoPro</cite> instance will be “Connected” and “Initialized”. There are properties
to check any of these values:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">gopro</span><span class="o">.</span><span class="n">is_ble_connected</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">gopro</span><span class="o">.</span><span class="n">is_wifi_connected</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">gopro</span><span class="o">.</span><span class="n">is_initialized</span><span class="p">)</span>
</pre></div>
</div>
<p>It is required that the device is initialized before any data can be sent.</p>
</div>
</div>
<div class="section" id="synchronous-data-operations">
<h2>Synchronous Data Operations<a class="headerlink" href="#synchronous-data-operations" title="Permalink to this headline">¶</a></h2>
<p>This section refers to sending commands, getting settings / statuses, and setting settings. In all cases here,
the method will block until a response is received.</p>
<p>The structure is very similar for both BLE and Wifi as each interface is accessed from a <cite>GoPro</cite> attribute that
is a delegate of the relevant type of command:</p>
<p>For BLE:</p>
<ul class="simple">
<li><p>command: <a class="reference internal" href="api.html#open_gopro.gopro.GoPro.ble_command" title="open_gopro.gopro.GoPro.ble_command"><code class="xref py py-attr docutils literal notranslate"><span class="pre">open_gopro.gopro.GoPro.ble_command</span></code></a> of type <a class="reference internal" href="api.html#open_gopro.ble_commands.BleCommands" title="open_gopro.ble_commands.BleCommands"><code class="xref py py-class docutils literal notranslate"><span class="pre">open_gopro.ble_commands.BleCommands</span></code></a></p></li>
<li><p>setting: <a class="reference internal" href="api.html#open_gopro.gopro.GoPro.ble_setting" title="open_gopro.gopro.GoPro.ble_setting"><code class="xref py py-attr docutils literal notranslate"><span class="pre">open_gopro.gopro.GoPro.ble_setting</span></code></a> of type <a class="reference internal" href="api.html#open_gopro.ble_commands.BleSettings" title="open_gopro.ble_commands.BleSettings"><code class="xref py py-class docutils literal notranslate"><span class="pre">open_gopro.ble_commands.BleSettings</span></code></a></p></li>
<li><p>status: <a class="reference internal" href="api.html#open_gopro.gopro.GoPro.ble_status" title="open_gopro.gopro.GoPro.ble_status"><code class="xref py py-attr docutils literal notranslate"><span class="pre">open_gopro.gopro.GoPro.ble_status</span></code></a> of type <a class="reference internal" href="api.html#open_gopro.ble_commands.BleStatuses" title="open_gopro.ble_commands.BleStatuses"><code class="xref py py-class docutils literal notranslate"><span class="pre">open_gopro.ble_commands.BleStatuses</span></code></a></p></li>
</ul>
<p>For WiFI:</p>
<ul class="simple">
<li><p>command: <a class="reference internal" href="api.html#open_gopro.gopro.GoPro.wifi_command" title="open_gopro.gopro.GoPro.wifi_command"><code class="xref py py-attr docutils literal notranslate"><span class="pre">open_gopro.gopro.GoPro.wifi_command</span></code></a> of type <a class="reference internal" href="api.html#open_gopro.wifi_commands.WifiCommands" title="open_gopro.wifi_commands.WifiCommands"><code class="xref py py-class docutils literal notranslate"><span class="pre">open_gopro.wifi_commands.WifiCommands</span></code></a></p></li>
<li><p>setting: <a class="reference internal" href="api.html#open_gopro.gopro.GoPro.wifi_setting" title="open_gopro.gopro.GoPro.wifi_setting"><code class="xref py py-attr docutils literal notranslate"><span class="pre">open_gopro.gopro.GoPro.wifi_setting</span></code></a> of type <a class="reference internal" href="api.html#open_gopro.wifi_commands.WifiSettings" title="open_gopro.wifi_commands.WifiSettings"><code class="xref py py-class docutils literal notranslate"><span class="pre">open_gopro.wifi_commands.WifiSettings</span></code></a></p></li>
</ul>
<p>There are two patterns here which are described below.</p>
<div class="section" id="commands">
<h3>Commands<a class="headerlink" href="#commands" title="Permalink to this headline">¶</a></h3>
<p>Commands are instance methods of a Commands class instance (<a class="reference internal" href="api.html#open_gopro.ble_commands.BleCommands" title="open_gopro.ble_commands.BleCommands"><code class="xref py py-class docutils literal notranslate"><span class="pre">open_gopro.ble_commands.BleCommands</span></code></a> or
<a class="reference internal" href="api.html#open_gopro.wifi_commands.WifiCommands" title="open_gopro.wifi_commands.WifiCommands"><code class="xref py py-class docutils literal notranslate"><span class="pre">open_gopro.wifi_commands.WifiCommands</span></code></a>), thus they can be called directly:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">GoPro</span><span class="p">()</span> <span class="k">as</span> <span class="n">gopro</span><span class="p">:</span>
    <span class="n">gorpo</span><span class="o">.</span><span class="n">ble_command</span><span class="o">.</span><span class="n">set_third_party_client_info</span><span class="p">()</span>
    <span class="n">gorpo</span><span class="o">.</span><span class="n">ble_command</span><span class="o">.</span><span class="n">set_shutter</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">Shutter</span><span class="o">.</span><span class="n">OFF</span><span class="p">)</span>
    <span class="n">gorpo</span><span class="o">.</span><span class="n">wifi_command</span><span class="o">.</span><span class="n">get_camera_state</span><span class="p">()</span>
    <span class="n">gorpo</span><span class="o">.</span><span class="n">wifi_command</span><span class="o">.</span><span class="n">set_preset</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">Preset</span><span class="o">.</span><span class="n">PHOTO</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="settings-and-statuses">
<h3>Settings and Statuses<a class="headerlink" href="#settings-and-statuses" title="Permalink to this headline">¶</a></h3>
<p>Each setting or status is an instance of a Status or Setting class that contains multiple methods.</p>
<div class="section" id="ble-status">
<h4>BLE Status<a class="headerlink" href="#ble-status" title="Permalink to this headline">¶</a></h4>
<p>For BLE status (<a class="reference internal" href="api.html#open_gopro.ble_commands.Status" title="open_gopro.ble_commands.Status"><code class="xref py py-class docutils literal notranslate"><span class="pre">open_gopro.ble_commands.Status</span></code></a>), these methods are:</p>
<ul class="simple">
<li><p>get_value()</p></li>
<li><p>register_value_update()</p></li>
<li><p>unregister_value_update()</p></li>
</ul>
<p>So, to interact with the encoding_active status:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">GoPro</span><span class="p">()</span> <span class="k">as</span> <span class="n">gopro</span><span class="p">:</span>
    <span class="n">gopro</span><span class="o">.</span><span class="n">ble_status</span><span class="o">.</span><span class="n">encoding_active</span><span class="o">.</span><span class="n">get_value</span><span class="p">()</span>
    <span class="n">gopro</span><span class="o">.</span><span class="n">ble_status</span><span class="o">.</span><span class="n">encoding_active</span><span class="o">.</span><span class="n">register_value_update</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="ble-settings">
<h4>BLE Settings<a class="headerlink" href="#ble-settings" title="Permalink to this headline">¶</a></h4>
<p>For BLE settings (<a class="reference internal" href="api.html#open_gopro.ble_commands.Setting" title="open_gopro.ble_commands.Setting"><code class="xref py py-class docutils literal notranslate"><span class="pre">open_gopro.ble_commands.Setting</span></code></a>), these methods are:</p>
<ul class="simple">
<li><p>get_capabilities_values()</p></li>
<li><p>get_value()</p></li>
<li><p>register_capability_update()</p></li>
<li><p>register_value_update()</p></li>
<li><p>set()</p></li>
<li><p>unregister_capability_update()</p></li>
<li><p>unregister_value_update()</p></li>
</ul>
<p>So, to interact with the resolution setting:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">GoPro</span><span class="p">()</span> <span class="k">as</span> <span class="n">gopro</span><span class="p">:</span>
    <span class="n">gopro</span><span class="o">.</span><span class="n">ble_setting</span><span class="o">.</span><span class="n">resolution</span><span class="o">.</span><span class="n">get_value</span><span class="p">()</span>
    <span class="n">gopro</span><span class="o">.</span><span class="n">ble_setting</span><span class="o">.</span><span class="n">resolution</span><span class="o">.</span><span class="n">get_capabilities_values</span><span class="p">()</span>
    <span class="n">gopro</span><span class="o">.</span><span class="n">ble_setting</span><span class="o">.</span><span class="n">resolution</span><span class="o">.</span><span class="n">register_value_update</span><span class="p">()</span>
    <span class="n">gopro</span><span class="o">.</span><span class="n">ble_setting</span><span class="o">.</span><span class="n">resolution</span><span class="o">.</span><span class="n">register_capability_update</span><span class="p">()</span>
    <span class="n">gopro</span><span class="o">.</span><span class="n">ble_setting</span><span class="o">.</span><span class="n">resolution</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">Resolution</span><span class="o">.</span><span class="n">RES_1080</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="wifi-settings">
<h4>WiFi Settings<a class="headerlink" href="#wifi-settings" title="Permalink to this headline">¶</a></h4>
<p>For WiFi settings (<a class="reference internal" href="api.html#open_gopro.wifi_commands.Setting" title="open_gopro.wifi_commands.Setting"><code class="xref py py-class docutils literal notranslate"><span class="pre">open_gopro.wifi_commands.Setting</span></code></a>), WiFi can only individually “set” a setting. So,
to interact with the resolution setting:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">GoPro</span><span class="p">()</span> <span class="k">as</span> <span class="n">gopro</span><span class="p">:</span>
    <span class="n">gopro</span><span class="o">.</span><span class="n">wifi_setting</span><span class="o">.</span><span class="n">resolution</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">Resolution</span><span class="o">.</span><span class="n">RES_1080</span><span class="p">)</span>
    <span class="n">gopro</span><span class="o">.</span><span class="n">wifi_setting</span><span class="o">.</span><span class="n">resolution</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">Resolution</span><span class="o">.</span><span class="n">RES_1440</span><span class="p">)</span>
</pre></div>
</div>
<p>It can get values of all settings (with all statuses) at once as described below.</p>
</div>
<div class="section" id="wifi-status">
<h4>WiFi Status<a class="headerlink" href="#wifi-status" title="Permalink to this headline">¶</a></h4>
<p>WiFi can not acess individual statuses. Instead it can use the <a class="reference internal" href="api.html#open_gopro.wifi_commands.WifiCommands.get_camera_state" title="open_gopro.wifi_commands.WifiCommands.get_camera_state"><code class="xref py py-meth docutils literal notranslate"><span class="pre">open_gopro.wifi_commands.WifiCommands.get_camera_state()</span></code></a>
command to retrieve all of them (as well as all of the settings) at once:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">gopro</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="n">wifi_command</span><span class="o">.</span><span class="n">get_camera_state</span><span class="p">()</span>
</pre></div>
</div>
<p>The response is a JSON dict. See <a class="reference internal" href="#handling-responses"><span class="std std-ref">handling responses</span></a> for more information on how to handle this.</p>
</div>
</div>
</div>
<div class="section" id="asynchronous-push-notifications">
<h2>Asynchronous Push Notifications<a class="headerlink" href="#asynchronous-push-notifications" title="Permalink to this headline">¶</a></h2>
<p>This section describes how to handle asynchronous push notifications. This is only relevant for BLE.</p>
<p>It is possible to enable push notificaitons for any of the following:</p>
<ul class="simple">
<li><p>setting values</p></li>
<li><p>setting capabilities</p></li>
<li><p>status values</p></li>
</ul>
<p>Firstly, the response to a register command for any of the above will include the current value / capabilities.</p>
<p>Then once registered, the camera will send a push notification when the relevant setting / status changes. These
responses are added to an internal <cite>GoPro</cite> instance queue and can be retrieved from the client via
<code class="xref py py-meth docutils literal notranslate"><span class="pre">open_gopro.gopro.get_update()</span></code>. Here is an example of registering for FOV updates:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">GoPro</span><span class="p">()</span> <span class="k">as</span> <span class="n">gopro</span><span class="p">:</span>
    <span class="n">current_fov</span> <span class="o">=</span> <span class="n">gopro</span><span class="o">.</span><span class="n">ble_setting</span><span class="o">.</span><span class="n">video_field_of_view</span><span class="o">.</span><span class="n">register_value_update</span><span class="p">()</span><span class="o">.</span><span class="n">flatten</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Current FOV is </span><span class="si">{</span><span class="n">current_fov</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="c1"># Get updates until we get a FOV update</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">update</span> <span class="o">=</span> <span class="n">gopro</span><span class="o">.</span><span class="n">get_update</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">SettingId</span><span class="o">.</span><span class="n">VIDEO_FOV</span> <span class="ow">in</span> <span class="n">update</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;New resolution is </span><span class="si">{</span><span class="n">update</span><span class="p">[</span><span class="n">SettingId</span><span class="o">.</span><span class="n">VIDEO_FOV</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">break</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is probably desirable to have a separate thread to retrieve these updates as the demo example is doing.</p>
</div>
</div>
<div class="section" id="selecting-parameters">
<h2>Selecting Parameters<a class="headerlink" href="#selecting-parameters" title="Permalink to this headline">¶</a></h2>
<p>Whenever a parameter is required, it will be type-hinted in the method definition to either a basic Python type
or an Enum in <a class="reference internal" href="api.html#parameters"><span class="std std-ref">Params</span></a></p>
<p>All of these enums can be accessed by importing params:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">open_gopro</span> <span class="kn">import</span> <span class="n">params</span>
</pre></div>
</div>
<p>Any decent editor should make this easy to use without referencing the documentation. For example, if I am
trying to turn off the shutter, I can see that I need to pass in a <cite>Shutter</cite> param.</p>
<a class="reference internal image-reference" href="_images/shows_param_type.png"><img alt="_images/shows_param_type.png" src="_images/shows_param_type.png" style="width: 80%;" /></a>
<p>I can then type in the <cite>Shutter</cite> param type and see the options:</p>
<a class="reference internal image-reference" href="_images/valid_params.png"><img alt="_images/valid_params.png" src="_images/valid_params.png" style="width: 60%;" /></a>
</div>
<div class="section" id="handling-responses">
<h2>Handling Responses<a class="headerlink" href="#handling-responses" title="Permalink to this headline">¶</a></h2>
<p>Unless otherwise stated, all commands, settings, and status operations return a GoProResp
which is basically a JSON serializable dict with some helper functions.</p>
<p>The <a class="reference external" href="https://github.com/gopro/OpenGoPro">Open GoPro Documentation</a> should be referenced in regards to how to access the JSON.</p>
<div class="section" id="response-structure">
<h3>Response Structure<a class="headerlink" href="#response-structure" title="Permalink to this headline">¶</a></h3>
<p>It has 3 relevant attributes for the end user:</p>
<ul class="simple">
<li><dl class="simple">
<dt>id: identifier of the completed operation. This will vary based on what type the response is.</dt><dd><ul>
<li><p>UUID if a direct BLE characteristic read</p></li>
<li><p>CmdId if an Open GoPro BLE Operation</p></li>
<li><p>string if a Wifi HTTP operation</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>status: the status returned from the camera</p></li>
<li><p>data: JSON serializable dict</p></li>
</ul>
<p>Besides the <cite>id</cite> attribute, there are properties to attempt to access specific identification information. If
the property is not valid for the given response, it will return <cite>None</cite>.</p>
<ul class="simple">
<li><p>command: <a class="reference internal" href="api.html#open_gopro.responses.GoProResp.cmd" title="open_gopro.responses.GoProResp.cmd"><code class="xref py py-meth docutils literal notranslate"><span class="pre">open_gopro.responses.GoProResp.cmd()</span></code></a></p></li>
<li><p>uuid: <a class="reference internal" href="api.html#open_gopro.responses.GoProResp.uuid" title="open_gopro.responses.GoProResp.uuid"><code class="xref py py-meth docutils literal notranslate"><span class="pre">open_gopro.responses.GoProResp.uuid()</span></code></a></p></li>
<li><p>endpoint: <a class="reference internal" href="api.html#open_gopro.responses.GoProResp.endpoint" title="open_gopro.responses.GoProResp.endpoint"><code class="xref py py-meth docutils literal notranslate"><span class="pre">open_gopro.responses.GoProResp.endpoint()</span></code></a></p></li>
</ul>
<p>There is also a property to check that the <cite>status</cite> is Success:</p>
<ul class="simple">
<li><p>is_ok: <a class="reference internal" href="api.html#open_gopro.responses.GoProResp.is_ok" title="open_gopro.responses.GoProResp.is_ok"><code class="xref py py-meth docutils literal notranslate"><span class="pre">open_gopro.responses.GoProResp.is_ok()</span></code></a></p></li>
</ul>
<p>The response object can be serialized to a JSON string with the default Python str() function. Note that the id and
status attributes are appended to the JSON. For example,</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">&gt;&gt;&gt; response = ble_setting.resolution.get_value()</span>
<span class="go">&gt;&gt;&gt; print(response.status)</span>
<span class="go">ErrorCode.SUCCESS</span>
<span class="go">&gt;&gt;&gt; print(response.is_ok)</span>
<span class="go">True</span>
<span class="go">&gt;&gt;&gt; print(response.id)</span>
<span class="go">QueryCmdId.GET_SETTING_VAL</span>
<span class="go">&gt;&gt;&gt; print(response.cmd)</span>
<span class="go">QueryCmdId.GET_SETTING_VAL</span>
<span class="go">&gt;&gt;&gt; print(response.uuid)</span>
<span class="go">UUID.CQ_QUERY_RESP</span>
<span class="go">&gt;&gt;&gt; print(response.data)</span>
<span class="go">{</span>
<span class="go">    &quot;status&quot;: &quot;SUCCESS&quot;,</span>
<span class="go">    &quot;id&quot;: &quot;UUID.CQ_QUERY_RESP::QueryCmdId.GET_SETTING_VAL&quot;,</span>
<span class="go">    &quot;SettingId.RESOLUTION&quot;: [</span>
<span class="go">        &quot;RES_1080&quot;</span>
<span class="go">    ]</span>
<span class="go">}</span>
</pre></div>
</div>
</div>
<div class="section" id="data-access">
<h3>Data Access<a class="headerlink" href="#data-access" title="Permalink to this headline">¶</a></h3>
<p>The data is stored in the <cite>data</cite> attribute but can also be accessed via dict access on the instance
since <cite>__getitem__</cite> has been overloaded. For example:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">&gt;&gt;&gt; print(response.data[SettingId.RESOLUTION])</span>
<span class="go">RES_5k</span>
</pre></div>
</div>
<p>could also be done as:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">&gt;&gt;&gt; print(response[SettingId.RESOLUTION])</span>
<span class="go">RES_5k</span>
</pre></div>
</div>
<p>Similarly, <cite>__contains__</cite> and <cite>__iter__</cite> have also been overloaded to operate on the <cite>data</cite> attribute:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">&gt;&gt;&gt; print(SettingId.RESOLUTION in response.data)</span>
</pre></div>
</div>
</div>
<div class="section" id="value-flattening">
<h3>Value Flattening<a class="headerlink" href="#value-flattening" title="Permalink to this headline">¶</a></h3>
<p>For short responses, it is rather unwieldy to access the JSON dict. Therefore, you can attempt to use the
<cite>flatten</cite> property (<a class="reference internal" href="api.html#open_gopro.responses.GoProResp.flatten" title="open_gopro.responses.GoProResp.flatten"><code class="xref py py-meth docutils literal notranslate"><span class="pre">open_gopro.responses.GoProResp.flatten()</span></code></a>) to attempt to flatten the data:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">print(ble_setting.resolution.get_value().flatten)</span>
<span class="go">RES_5k</span>
<span class="go">print(&quot;, &quot;.join(ble_setting.resolution.get_capabilities_values().flatten))</span>
<span class="go">RES_4k, RES_2_7k, RES_2_7k_4_3, RES_1440, RES_1080, RES_4k_4_3, RES_5k</span>
</pre></div>
</div>
<p>If the response data is anything other than a single value or a list, it can’t be flattened and so the entire
data structure will be returned.</p>
<p>This works well when getting a single value (from a get status / value) or a list of values (from a get
capabilities). This won’t work for many cases.</p>
<p>For complex JSON structures, you will need to read through the
<a class="reference external" href="https://github.com/gopro/OpenGoPro/tree/main/docs/wifi">Open GoPro API Documentation</a> for
parsing it. There may be some future work to turn these (at least the media list) into nice Python classes. But
for now, it will look ugly like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get list of media</span>
<span class="n">gopro</span><span class="o">.</span><span class="n">media_list</span> <span class="o">=</span> <span class="n">wifi_command</span><span class="o">.</span><span class="n">get_media_list</span><span class="p">()</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;media&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;fs&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="api.html" class="btn btn-neutral float-right" title="Interfaces" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="quickstart.html" class="btn btn-neutral float-left" title="QuickStart Guide" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, GoPro Inc..

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>